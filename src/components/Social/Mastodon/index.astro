---
import { shareURLs } from "../../../constants"

const {
  fill = "#747481",
  hideClass = "sb-sr-only",
  hoverFill = "#5948dc",
  innerFill = "#fff",
  title,
} = Astro.props

const queryString = `text=${encodeURIComponent(title)}`
const clickHandler = `
	window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');
	return false`
---

<a
  aria-labelledby="sb-mastodon-label"
  href={`${shareURLs.mastodon}?${queryString}`}
  onclick={clickHandler}
  title="Share on Mastodon"
  rel="noopener"
>
  <style define:vars={{ hoverFill }}>
    :focus path.sb-mastodon-path,
    :hover path.sb-mastodon-path {
      fill: var(--hoverFill);
    }
  </style>
  <svg
    width="48px"
    height="48px"
    viewBox="0 0 1000 1000"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xml:space="preserve"
    style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"
  >
    <clipPath id="_clip1">
      <rect
        x="33.6"
        y="-0.035"
        width="932.844"
        height="1000"
      ></rect>
    </clipPath>
    <g clip-path="url(#_clip1)">
      <path
        class="sb-mastodon-path"
        d="M946.586,599.455c-13.713,70.541 -122.816,147.742 -248.121,162.703c-65.341,7.796 -129.674,14.962 -198.275,11.815c-112.191,-5.139 -200.716,-26.776 -200.716,-26.776c0,10.92 0.673,21.319 2.02,31.044c14.586,110.711 109.787,117.344 199.967,120.436c91.021,3.114 172.068,-22.44 172.068,-22.44l3.74,82.281c0,0 -63.666,34.185 -177.079,40.473c-62.539,3.437 -140.192,-1.573 -230.636,-25.511c-196.158,-51.916 -229.893,-260.996 -235.055,-473.143c-1.573,-62.987 -0.603,-122.381 -0.603,-172.056c0,-216.931 142.142,-280.516 142.142,-280.516c71.672,-32.914 194.655,-46.755 322.508,-47.8l3.142,0c127.853,1.045 250.917,14.886 322.583,47.8c0,0 142.138,63.585 142.138,280.516c0,0 1.783,160.053 -19.823,271.174"
        {fill}
        style="fill-rule:nonzero;"
      ></path>
      <path
        d="M798.748,345.11l0,262.667l-104.07,0l0,-254.946c0,-53.743 -22.614,-81.021 -67.847,-81.021c-50.012,0 -75.077,32.359 -75.077,96.343l0,139.547l-103.457,0l0,-139.547c0,-63.984 -25.07,-96.343 -75.082,-96.343c-45.233,0 -67.847,27.278 -67.847,81.021l0,254.946l-104.07,0l0,-262.667c0,-53.683 13.669,-96.343 41.127,-127.904c28.314,-31.561 65.395,-47.741 111.425,-47.741c53.256,0 93.585,20.468 120.251,61.41l25.922,43.451l25.927,-43.451c26.66,-40.942 66.99,-61.41 120.251,-61.41c46.025,0 83.106,16.18 111.425,47.741c27.453,31.561 41.122,74.221 41.122,127.904"
        fill={innerFill}
        style="fill-rule:nonzero;"
      ></path>
    </g>
  </svg>
  <span
    class={hideClass}
    id="sb-mastodon-label"
    >Share on Mastodon</span
  >
</a>
