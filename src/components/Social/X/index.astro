---
import { shareURLs } from "../../../constants"

const {
  fill = "#747481",
  hideClass = "sb-sr-only",
  hoverFill = "#0f1419",
  innerFill = "#fff",
  title,
} = Astro.props

const queryString = `text=${encodeURIComponent(title)}`
const clickHandler = `
	window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');
	return false`
---

<a
  aria-labelledby="sb-x-label"
  href={`${shareURLs.x}?${queryString}`}
  onclick={clickHandler}
  title="Share on X"
  rel="noopener,nofollow"
>
  <style define:vars={{ hoverFill }}>
    :focus rect,
    :focus .sb-x-wide,
    :hover rect,
    :hover .sb-x-wide {
      fill: var(--hoverFill);
    }
  </style>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 48 48"
    width="48px"
    height="48px"
  >
    <rect
      {fill}
      height="46"
      width="46"
      x="1"
      y="1"
      rx="12"
      ry="12"
    ></rect>
    <path
      d="M 12 36 L 16 36 L 36 12 L 32 12 z"
      fill={innerFill}
    ></path>
    <path
      class="sb-x-wide"
      d="M 13 13.5 L 29 34.5 L 38 34.5 L 22 13.5 z"
      {fill}
      stroke={innerFill}
      stroke-width="3"
    ></path>
  </svg>
  <span
    class={hideClass}
    id="sb-x-label"
    >Share on X</span
  >
</a>
