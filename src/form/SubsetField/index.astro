---
import type { SubsetField as Props } from "../../types/form"
import CheckboxGroup from "../elements/CheckboxGroup/index.astro"
import mapAttributes from "../../utilities/mapAttributes"
import type { HTMLAttributes } from "../../types/html"

const { label: lbl, message, wrapper: wrapperAttrs, ...attrs } = Astro.props

const cbAttrs = mapAttributes(attrs as HTMLAttributes, [])
const wrapper = mapAttributes(wrapperAttrs, ["sb-subset-field"])

const label = Astro.slots.render("default") || lbl
const msg = Astro.slots.render("message") || message
---

<CheckboxGroup {...cbAttrs} {wrapper}>
	<Fragment set:html={label} />
	<Fragment slot="message" set:html={msg} />
</CheckboxGroup>
