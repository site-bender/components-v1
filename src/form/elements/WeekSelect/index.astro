---
import Select from "../Select/index.astro"
import generateShortId from "../../../utilities/generateShortId"
import createWeekOptions from "../../../utilities/createWeekOptions"
import mapAttributes from "../../../utilities/mapAttributes"
import type { WeekSelect as Props } from "../../../types/form"
import type { HTMLAttributes } from "../../../types/html"

const {
	autocomplete,
	dataset: elementDataset = {},
	field = "month-select",
	form,
	id = generateShortId(),
	includeNull,
	labelledBy,
	name = "month",
	required,
	selected,
	weeks,
	wrapper = {},
	...attrs
} = Astro.props

const selectAttrs = mapAttributes(attrs as HTMLAttributes, ["sb-select"])

const options = createWeekOptions(weeks as Array<number>)
---

<Select
	{...selectAttrs}
	{autocomplete}
	{field}
	{form}
	{id}
	{includeNull}
	{labelledBy}
	{name}
	{options}
	{required}
	{selected}
	{wrapper}
/>
